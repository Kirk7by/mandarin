# Интерфейсы #

----------
Используются для разработки внешних модулей: анализаторов и репозиториев.

**Список интерфейсов:**

* [IDomainIdentity](#IDomainIdentity-<-T->)
* IFactor.cs
* IRepository.cs


## IDomainIdentity < T > ##
Этот интерфейс реализуют основные классы доменной модели: **ClassRoom**, **ClassRoomType**, **StudentSubGroup**, **StudentsClass**, **Teacher**. Предназначен для упрощения идентификации объектов. Не рекомендуется использовать при реализации анализаторов, т.к. негативно сказывается на производительности.

Методы:

**int ID { get; set; }** - переопределение значения свойства может привести к непредсказуемым последствиям! 

**bool EqualsByID(T obj)** - сравнение двух объектов по ID.

**bool EqualsByParams(T obj)** - сравнение двух объектов по всем внутренним полям. Если класс, для которого вызывается метод, содержит объекты другого класса, реализующего интерфейс IDomainIdentity, то у этих объектов вызывается метод EqualsByParams(T obj). Т.е. происходит глубокое сравнение объектов. При сравнении не учитывается значение поля Id.

Классы доменной модели явно реализуют этот интерфейс, тем самым скрывая его методы. Это сделано для того, чтобы не возникало желание постоянно использовать методы интерфейса, снижая тем самым производительность системы. Для использования методов интерфейса требуется явно привести объект класса к типу интерфейса.

Пример вызова методов:

	//например объекты содержат разные ID, но полностью совпадают по значениям свойств
    StudentsClass cl1 = GetSomethingStudentsClass(1);
    StudentsClass cl2 = GetSomethingStudentsClass(2);

	int id1 = ((IDomainIdentity<StudentsClass>)cl1).ID; // 1
	int id2 = ((IDomainIdentity<StudentsClass>)cl2).ID; // 2

	//сравнение по ID
	((IDomainIdentity<StudentsClass>)cl1).EqualsByID(cl2); // false

	//сравнение по свойствам
	((IDomainIdentity<StudentsClass>)cl1).EqualsByParams(cl2); // true
